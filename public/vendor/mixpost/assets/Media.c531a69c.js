import{r as C,h as g,D as M,c as b,a as s,u as o,b as f,w as t,F as x,o as d,Z as N,e as A,k as p,d as i,t as O,G as E,q as D,P as F,i as S,f as j,O as q}from"./app.4ca5fe15.js";import{u as z}from"./SearchInput.6adb208e.js";import{u as G,_ as Z,a as H,b as J}from"./MediaGifs.bf77d62b.js";import{_ as Q}from"./PageHeader.d9de8d8b.js";import{T as R,_ as U}from"./Tab.3560cf15.js";import{_ as W,a as X}from"./PureDangerButton.272c6b0f.js";import{_ as Y,T as K,c as ee}from"./Trash.4a0e93ac.js";import{_ as se}from"./Panel.8eca0e74.js";import"./Input.08a10bbb.js";import"./NoResult.260eb4c3.js";import"./ExclamationCircle.aefa8334.js";import"./helpers.14f64b4e.js";import"./Alert.cf498d2b.js";import"./PrimaryButton.a4e20dc3.js";import"./useNotifications.f88b68af.js";const te={class:"w-full mx-auto row-py"},ae={class:"w-full row-px"},oe={class:"w-full row-px mt-lg"},be={__name:"Media",setup(le){const{activeTab:n,tabs:y,isDownloading:v,isDeleting:w,downloadExternal:P,deletePermanently:L}=G(),T={uploads:Z,stock:H,gifs:J},r=C(),I=g(()=>T[n.value]),m=g(()=>r.value?r.value.selected:[]),$=()=>{r.value.deselectAll()},V=()=>{const a=n.value!=="uploads";a&&P(m.value.map(e=>{const{id:_,url:l,download_data:u}=e;return{id:_,url:l,download_data:u}}),e=>{k(e.data)}),a||k(m.value)},{versionContentObject:h}=z(),k=a=>{q.post(route("mixpost.posts.store"),{versions:[{account_id:0,is_original:!0,content:[h("",a.map(e=>e.id))]}]})},c=C(!1),B=()=>{const a=m.value.map(e=>e.id);L(a,()=>{$(),r.value.removeItems(a),c.value=!1})};return(a,e)=>{const _=M("tooltip");return d(),b(x,null,[s(o(N),{title:"Media Library"}),f("div",te,[s(Q,{title:"Media Library"}),f("div",ae,[s(R,null,{default:t(()=>[(d(!0),b(x,null,A(o(y),(l,u)=>(d(),p(U,{key:u,onClick:ie=>n.value=u,active:o(n)===u},{default:t(()=>[i(O(l),1)]),_:2},1032,["onClick","active"]))),128))]),_:1})]),f("div",oe,[s(se,null,{default:t(()=>[(d(),p(E(I.value),{ref_key:"sourceProperties",ref:r,columns:4},null,512)),s(W,{count:m.value.length,onClose:e[1]||(e[1]=l=>$())},{default:t(()=>[s(D,{onClick:V,isLoading:o(v),disabled:o(v),class:"mr-sm",size:"xs"},{default:t(()=>[s(F,{class:"mr-xs"}),i(" Create Post ")]),_:1},8,["isLoading","disabled"]),o(n)==="uploads"?S((d(),p(X,{key:0,onClick:e[0]||(e[0]=l=>c.value=!0)},{default:t(()=>[s(K)]),_:1})),[[_,"Delete"]]):j("",!0)]),_:1},8,["count"])]),_:1})])]),s(Y,{show:c.value,variant:"danger",onClose:e[3]||(e[3]=l=>c.value=!1)},{header:t(()=>[i(" Delete media ")]),body:t(()=>[i(" Are you sure you want to delete selected media items? ")]),footer:t(()=>[s(D,{onClick:e[2]||(e[2]=l=>c.value=!1),class:"mr-xs"},{default:t(()=>[i("Cancel")]),_:1}),s(ee,{isLoading:o(w),disabled:o(w),onClick:B},{default:t(()=>[i("Delete")]),_:1},8,["isLoading","disabled"])]),_:1},8,["show"])],64)}}};export{be as default};
